# 代理
## 1. 静态代理

## 2 .动态代理
       与静态代理类对照的是动态代理类，动态代理类的字节码在程序运行时由Java反射机制动态生成，无需程序员手工编写它的源代码。动态代理类不仅简化了
    工作，而且提高了软件系统的可扩展性，因为Java反射机制可以生成任意类型的动态代理类。java.lang.reflect 包中的Proxy类和InvocationHandler
    接口提供了生成动态代理类的能力。Proxy类提供了创建动态代理类及其实例的静态方法
### 2.1 JDK动态代理
    1. 通过实现InvocationHandler接口创建自己的调用处理器
    2. 通过为Proxy类的newProxyInstance方法指定代理类的ClassLoader对象和代理要实现的interface以及调用处理器InvocationHandler对象来创建
    动态代理类的对象
####2.1.1 优点
    1. 动态代理类的字节码在程序运行时由java反射机制动态生成，无需程序员手工编写它的源代码
    2. 动态代理类不仅简化了编程工作，而且提高了软件系统的可扩展性，因为Java 反射机制可以生成任意类型的动态代理类
####2.1.2 缺点
    JDK的动态代理机制只能代理实现了接口的类，
####2.1.3 本质
    通过反编译可以看出生成的代理类实现了被代理类实现的接口（缺点出现的原因）以及继承了Proxy.由于Java单继承机制，因此不能在继承其他类。
### 2.2 CGLIB动态代理
    利用ASM开源包，对代理对象类的class文件加载进来，通过修改其字节码生成子类来处理.
**注意**：如果目标对象没有实现接口，必须采用CGLIB动态代理，因为使用JDK动态代理的前提时必须实现接口
####2.2.1 实现原理
    对指定类生成一个子类，覆盖其中方法实现增强。
**注意**：因为采用了继承机制，不能对声明为final的方法进行代理。